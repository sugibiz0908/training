<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{common/head :: head_fragment(scripts = ~{::script}, links = ~{::link})}">
</head>
<body>

  <div class="container">
    <h1>ユーザー情報: 登録画面</h1>
    <br>

    <form th:object="${user}">
      <div class="form-group mt-2">
        <label class="form-label" for="inputId">ID:</label> <input type="text" class="form-control" id="inputId" th:field="*{id}" readonly>
      </div>
      <div class="form-group mt-2">
        <label class="form-label" for="inputName"> 名前: <span class="badge bg-danger">必須</span>
        </label> <input type="text" class="form-control" id="inputName" th:field="*{name}" placeholder="サンプル太郎" th:errorclass="is-invalid">
        <div class="invalid-feedback" th:errors="*{name}"></div>
      </div>
      <div class="form-group mt-2">
        <label class="form-label" for="inputAddress">都道府県:</label>
        <div class="col-md-2">
          <!-- 半分の横幅にするための列のクラスを追加 -->
          <select class="form-control" id="prefecturesSelect" th:field="*{prefectures}" >
            <option value="00">選択してください</option>
<!--            <option th:each="prefecture : ${prefecturesList}" th:value="${prefecture.code}" th:text="${prefecture.name}" th:selected="${prefecture.name == selectedValue}" ></option>-->
            <option th:each="prefecture : ${prefecturesList}" th:value="${prefecture.name}" th:text="${prefecture.name}"></option>
          </select>
          <div class="invalid-feedback" th:errors="*{prefectures}"></div>
        </div>
      </div>
      <input type="hidden" th:field="*{prefectureName}"> 
      <div class="form-group mt-2">
        <label class="form-label" for="inputAddress">市区町村・番地:</label> 
        <input type="text" class="form-control" id="inputAddress" th:field="*{address}" placeholder="新宿区1-2-3歌舞伎町ビル10F" th:errorclass="is-invalid">
        <div class="invalid-feedback" th:errors="*{address}"></div>
      </div>
      <div class="form-group mt-2">
        <label class="form-label" for="inputPhone">電話番号:</label> <input type="text" class="form-control" id="inputPhone" th:field="*{phone}" placeholder="0120-1234-1234" th:errorclass="is-invalid">
        <div class="invalid-feedback" th:errors="*{phone}"></div>
      </div>
      <br>
      <div class="text-center">
        <a th:href="@{/user/list}" class="col-2 btn btn-secondary">一覧に戻る</a> 
        <input type="submit" th:formaction="@{/user/create}" th:formmethod="post" class="col-2 btn btn-primary" value="登録する">
      </div>
    </form>

  </div>

</body>
</html>